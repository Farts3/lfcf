(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-10510d12"],{"057d":function(e,t,a){},1159:function(e,t,a){"use strict";var i=a("9cc6");a.n(i).a},"31b4":function(e,t,a){"use strict";var i=a("9860"),n=a.n(i),s=a("b6bd"),r=a("2f62");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={name:"edit",components:{formCreate:n.a.$form()},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(r.e)("admin/userLevel",["taskId","levelId"])),props:{FromData:{type:Object,default:null},userEdit:{type:Number,default:0}},data:function(){return{modals:!1,type:0,config:{global:{upload:{props:{onSuccess:function(e,t){200===e.status?t.url=e.data.src:this.Message.error(e.msg)}}}}},isDisable:!1}},methods:{couponsType:function(){this.$parent.addType(this.type)},onSubmit:function(e){var t,a=this;(setTimeout((function(){a.isDisable=!1}),1e3),this.isDisable)||(this.isDisable=!0,t=e,Object(s.a)({url:this.FromData.action,method:this.FromData.method,data:t}).then((function(e){a.$parent.getList(),a.$Message.success(e.msg),a.modals=!1,setTimeout((function(){a.$emit("submitFail")}),1e3)})).catch((function(e){a.$Message.error(e.msg)})))},cancel:function(){this.type=0}}},u=(a("bddf"),a("2877")),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.FromData?a("div",[a("Modal",{class:e.userEdit?"userEdit":"",attrs:{scrollable:"","footer-hide":"",closable:"",title:e.FromData.title,width:"700"},on:{"on-cancel":e.cancel},model:{value:e.modals,callback:function(t){e.modals=t},expression:"modals"}},[["/marketing/coupon/save.html"===e.FromData.action?a("div",{staticClass:"radio acea-row row-middle"},[a("div",{staticClass:"name ivu-form-item-content"},[e._v("优惠券类型")]),a("Radio-group",{on:{"on-change":e.couponsType},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("Radio",{attrs:{label:0}},[e._v("通用券")]),a("Radio",{attrs:{label:1}},[e._v("品类券")]),a("Radio",{attrs:{label:2}},[e._v("商品券")])],1)],1):e._e()],a("form-create",{ref:"fc",staticClass:"formBox",attrs:{option:e.config,rule:Array.from(e.FromData.rules),handleIcon:"false"},on:{"on-submit":e.onSubmit}})],2)],1):e._e()}),[],!1,null,"2850396f",null);t.a=d.exports},"3cb6":function(e,t,a){},8648:function(e,t,a){"use strict";var i=a("057d");a.n(i).a},"9cc6":function(e,t,a){},a8e0:function(e,t,a){"use strict";var i=a("a34a"),n=a.n(i),s=a("c24f");function r(e,t,a,i,n,s,r){try{var o=e[s](r),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(i,n)}var o={name:"send",props:{userIds:{type:String,default:""},isAll:{type:Number|String,default:0},where:{type:Object,default:function(){return{}}}},created:function(){},data:function(){return{modals:!1,loading:!1,couponList:[],columns:[{title:"优惠券名称",key:"title",align:"center",minWidth:100},{title:"优惠券面值",slot:"coupon_price",align:"center",minWidth:80},{title:"优惠券最低消费",key:"use_min_price",align:"center",minWidth:150},{title:"优惠券有效期限",key:"coupon_time",align:"center",minWidth:120},{title:"操作",slot:"action",align:"center",width:120}],page:{page:1,limit:15,coupon_title:"",type:"send"},total:0}},methods:{getList:function(e){var t=this;this.loading=!0,Object(s.d)(this.page).then(function(){var e,a=(e=n.a.mark((function e(a){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===a.status?(i=a.data,t.couponList=i.list,t.total=i.count,t.loading=!1):(t.loading=!1,t.$Message.error(a.msg));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var s=e.apply(t,a);function o(e){r(s,i,n,o,l,"next",e)}function l(e){r(s,i,n,o,l,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},userSearchs:function(){this.getList()},pageChange:function(e){this.page.page=e,this.getList()},sendGrant:function(e,t,a){var i=this,n={title:t,info:"发送优惠券后将无法撤回，请谨慎操作！",num:a,url:"marketing/coupon/user/grant",method:"post",ids:{id:e.id,all:this.isAll}};0==this.isAll?n.ids.uid=this.userIds:1==this.isAll&&(n.ids.uid=this.userIds,n.ids.where={city:this.where.city,country:this.where.country,field_key:this.where.field_key,group_id:this.where.group_id,isMember:this.where.isMember,is_promoter:this.where.is_promoter,label_id:this.where.label_id,level:this.where.level,nickname:this.where.nickname,pay_count:this.where.pay_count,province:this.where.province,sex:this.where.sex,status:this.where.status,user_time:this.where.user_time,user_time_type:this.where.user_time_type,user_type:this.where.user_type}),this.$modalSure(n).then((function(e){i.$Message.success(e.msg)})).catch((function(e){i.$Message.error(e.msg)}))}}},l=(a("8648"),a("2877")),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{attrs:{"z-index":100,scrollable:"","footer-hide":"",closable:"",title:"发送优惠券","mask-closable":!1,width:"900"},model:{value:e.modals,callback:function(t){e.modals=t},expression:"modals"}},[a("div",{staticClass:"acea-row"},[a("span",{staticClass:"sp"},[e._v("优惠券名称：")]),a("Input",{staticStyle:{width:"60%"},attrs:{search:"","enter-button":"",placeholder:"请输入优惠券名称"},on:{"on-search":e.userSearchs},model:{value:e.page.coupon_title,callback:function(t){e.$set(e.page,"coupon_title",t)},expression:"page.coupon_title"}})],1),a("Table",{ref:"table",staticClass:"mt25",attrs:{columns:e.columns,data:e.couponList,loading:e.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:e._u([{key:"coupon_price",fn:function(t){var i=t.row;return[1==i.coupon_type?a("span",[e._v(e._s(i.coupon_price)+"元")]):e._e(),2==i.coupon_type?a("span",[e._v(e._s(parseFloat(i.coupon_price)/10)+"折（"+e._s(i.coupon_price.toString().split(".")[0])+"%）")]):e._e()]}},{key:"action",fn:function(t){var i=t.row,n=t.index;return[a("a",{on:{click:function(t){return e.sendGrant(i,"发送优惠券",n)}}},[e._v("发送")])]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:e.total,"show-elevator":"","show-total":"","page-size":e.page.limit},on:{"on-change":e.pageChange}})],1)],1)],1)}),[],!1,null,"ea8d1cf8",null);t.a=c.exports},bddf:function(e,t,a){"use strict";var i=a("3cb6");a.n(i).a},ccf8:function(e,t,a){"use strict";a.r(t);var i=a("a34a"),n=a.n(i),s=a("2f62"),r=a("c297"),o=a("9b41"),l=a("c24f"),c=a("0b65"),u=a("a716"),d=a("a8e0"),h=a("31b4");function m(e,t,a,i,n,s,r){try{var o=e[s](r),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(i,n)}function f(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var s=e.apply(t,a);function r(e){m(s,i,n,r,o,"next",e)}function o(e){m(s,i,n,r,o,"throw",e)}r(void 0)}))}}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v={name:"",data:function(){return{loading:!1,formInline:{},options:c.a,columns1:[{type:"selection",width:60,align:"center"},{title:"客户信息",slot:"avatar",minWidth:120},{title:"所属客服",slot:"followOne",minWidth:80},{title:"客服所属部门",slot:"external_userid",minWidth:80},{title:"标签",slot:"corp_id",minWidth:120},{title:"性别",slot:"gender",minWidth:80},{title:"客户类型",slot:"type",minWidth:80},{title:"备注",key:"remark",minWidth:110},{title:"添加时间",key:"create_time",minWidth:110},{title:"操作",slot:"action",minWidth:130}],columns2:[{type:"selection",width:60,align:"center"},{title:"客户信息",slot:"avatars",minWidth:120},{title:"付费会员",slot:"isMember",minWidth:90},{title:"用户等级",key:"level",minWidth:90},{title:"分组",key:"group_id",minWidth:100},{title:"手机号",key:"phone",minWidth:100},{title:"用户类型",key:"user_type",minWidth:100},{title:"内部联系人",slot:"follow_list",minWidth:100},{title:"余额",key:"now_money",minWidth:100},{title:"操作",slot:"action",minWidth:80}],tableData:[],tableData1:[],tabIndex:0,grid:{xl:7,lg:10,md:12,sm:24,xs:24},timeVal:[],labelList:[],labelShow:!1,activeLabel:{add_tag:[],removeTag:[],userid:[],is_all:0},activeLabel2:{label_id:[],uids:[],all:0},tableFrom:{userid:[],label:[],time:"",name:"",page:1,limit:15},labelIds:[],usersName:"",activeDepartment:{},isSite:!0,onlyDepartment:!1,openType:"",userList:[],selectGroup:[],selectUser:[],groupList:[],user_ids:"",dataLabel:[],setLabelIndex:null,labelFormList:[],markShow:!1,remark:"",selectRow:{},FromData:null}},components:{department:r.a,userDetails:u.a,sendFrom:d.a,editFrom:h.a},filters:{genderFilter:function(e){return 0==e?"未知":1==e?"男":2==e?"女":void 0}},watch:{usersName:function(e,t){e||(this.tableFrom.userid=[])}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(s.e)("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:80},labelPosition:function(){return this.isMobile?"top":"left"}}),created:function(){this.getList(),this.userGroup(),this.getWorkLabel(),this.getUserList()},methods:{selectAll:function(e){e.length&&(this.selectGroup=e)},handleSelectRow:function(e){this.selectGroup=e},userAll:function(e){e.length&&(this.selectUser=e)},userSelectRow:function(e){this.selectUser=e},getList:function(){var e=this;this.loading=!0,Object(o.i)(this.tableFrom).then((function(t){e.tableData=t.data,e.loading=!1})).catch((function(t){e.$Message.error(t.msg),e.loading=!1}))},onchangeTime:function(e){this.timeVal=e,this.tableFrom.time=this.timeVal.join("-")},dateChange:function(){this.tableFrom.page=1,this.getList()},clientSynch:function(){var e=this;Object(o.D)().then((function(t){e.$Message.success(t.msg)}))},searchData:function(){this.tableFrom.page=1,0==this.tabIndex?(this.tableFrom.label=this.labelFormList.map((function(e){return e.value})),this.getList()):this.getUserList()},pageChange:function(e){this.tableFrom.page=e,0==this.tabIndex?this.getList():this.getUserList()},getWorkLabel:function(){var e=this;Object(o.P)().then((function(t){e.labelList=t.data.map((function(t){return e.mapTree(t)}))}))},mapTree:function(e){var t=this,a=Array.isArray(e.children)&&e.children.length>0;return{title:e.label,expand:!0,value:e.value,id:e.id,selected:!1,checked:!1,children:a?e.children.map((function(e){return t.mapTree(e)})):[]}},addUser:function(){this.$refs.department.memberStatus=!0},changeMastart:function(e,t){this.tableFrom.userid=e.map((function(e){return e.userid}));var a=e.map((function(e){return e.name}));this.usersName=a.toString()},getUserList:function(){var e=this;this.loading=!0,Object(l.Z)({page:this.tableFrom.page,limit:this.tableFrom.limit,user_time_type:"all",user_time:this.tableFrom.time,nickname:this.tableFrom.name,label_ids:this.labelIds.toString()}).then((function(t){var a=t.data;e.tableData1=a,e.loading=!1})).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))},changeMenu:function(e,t){switch(t){case"2":this.getOtherFrom(e.uid);break;case"3":this.giveLevelTime(e.uid)}},getOtherFrom:function(e){var t=this;Object(l.h)(e).then(function(){var e=f(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==a.data.status){e.next=2;break}return e.abrupt("return",t.$authLapse(a.data));case 2:a.data.rules[1].props.max=999999,t.FromData=a.data,t.$refs.edits.modals=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},submitFail:function(e){this.$refs.userDetails.modals&&this.$refs.userDetails.getDetails(this.selectRow.uid)},giveLevelTime:function(e){var t=this;Object(l.p)(e).then(function(){var e=f(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==a.data.status){e.next=2;break}return e.abrupt("return",t.$authLapse(a.data));case 2:t.FromData=a.data,t.$refs.edits.modals=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},onChangeType:function(){this.selectGroup=[],this.selectUser=[],this.dataLabel=[],this.tableFrom.time="",this.tableFrom.name=""},selectLabel:function(e){if(e.selected){var t=this.dataLabel.indexOf(this.dataLabel.filter((function(t){return t.id==e.id}))[0]);this.dataLabel.splice(t,1),this.activeLabel.removeTag.push(e.value),e.selected=!1}else this.dataLabel.push({id:e.id,value:e.value,title:e.title}),e.selected=!0},onSend:function(){if(0===this.selectUser.length)this.$Message.warning("请选择要发送优惠券的用户");else{var e=this.selectUser.map((function(e){return e.uid}));this.user_ids=e.join(),this.$refs.sends.modals=!0,this.$refs.sends.getList()}},setLabel:function(e){this.setLabelIndex=e,this.labelShow=!0},labeSet:function(e){var t=this;e.followOne&&e.followOne.tags.length&&this.labelList.forEach((function(a){a.children.forEach((function(a){e.followOne.tags.forEach((function(e){e.tag_id==a.value&&(a.selected=!0,t.dataLabel.push({id:a.id,value:a.value,title:a.title}))}))}))})),this.labelShow=!0,this.selectGroup[0]=e},labelConfirm:function(){var e=this;0==this.setLabelIndex?(this.labelFormList=this.dataLabel,this.labelIds=this.labelFormList.map((function(e){return e.id})),this.labelShow=!1):0==this.tabIndex?(this.activeLabel.userid=this.selectGroup.map((function(e){return e.external_userid})),this.activeLabel.add_tag=this.dataLabel.map((function(e){return e.value})),this.activeLabel.add_tag.forEach((function(t){e.activeLabel.removeTag.forEach((function(a){t==a&&e.activeLabel.add_tag.splice(t,1)}))})),Object(o.A)(this.activeLabel).then((function(t){e.$Message.success(t.msg),e.labelShow=!1})).catch((function(t){e.$Message.error(t.msg),e.labelShow=!1}))):(this.activeLabel2.uids=this.selectUser.map((function(e){return e.uid})),this.activeLabel2.label_id=this.dataLabel.map((function(e){return e.id})),Object(l.I)(this.activeLabel2).then((function(t){e.$Message.success(t.msg),e.labelShow=!1})).catch((function(t){e.$Message.error(t.msg),e.labelShow=!1})))},labelCancel:function(){this.labelShow=!1,0==this.tabIndex?this.getList():this.getUserList(),this.getWorkLabel()},handleClose2:function(e,t){var a=this.labelFormList.indexOf(t);this.labelFormList.splice(a,1),this.tableFrom.label.splice(a,1),this.labelIds.splice(a,1)},userGroup:function(){var e=this;Object(l.T)({page:1,limit:""}).then((function(t){e.groupList=t.data.list}))},changeInfo:function(e){this.$refs.userDetails.modals=!0,this.$refs.userDetails.activeName="info",this.$refs.userDetails.getDetails(e.uid)},workInfo:function(e){this.selectRow=e,this.$refs.userDetails.modals=!0,this.$refs.userDetails.activeName="info",this.$refs.userDetails.getDetails(e.uid)},editMark:function(e){this.remark=e.remark,this.selectRow=e,this.markShow=!0},editMaekConfirm:function(){var e=this;Object(o.C)(this.selectRow.id,{remark:this.remark}).then((function(t){e.$Message.success(t.msg),e.getList()})).catch((function(t){e.$Message.error(t.msg)}))},editMarkCancel:function(){this.remark=""}}},g=(a("1159"),a("2877")),w=Object(g.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:0}},[a("div",{staticClass:"new_card_pd"},[a("Form",{attrs:{"label-width":96,inline:"","label-colon":!0}},[a("FormItem",{attrs:{label:0==e.tabIndex?"创建时间":"访问时间"}},[a("DatePicker",{staticClass:"input-add",attrs:{editable:!1,value:e.timeVal,format:"yyyy/MM/dd HH:mm",type:"datetimerange",placement:"bottom-start",placeholder:"自定义时间",options:e.options},on:{"on-change":e.onchangeTime}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:0==e.tabIndex,expression:"tabIndex == 0"}],attrs:{label:"选择客服"}},[a("Input",{staticClass:"input-add",attrs:{placeholder:"请输入",clearable:!0},on:{"on-focus":e.addUser},model:{value:e.usersName,callback:function(t){e.usersName=t},expression:"usersName"}})],1),a("FormItem",{attrs:{label:"客户标签"}},[a("div",{staticClass:"check_label acea-row row-middle",on:{click:function(t){return e.setLabel(0)}}},e._l(e.labelFormList,(function(t,i){return a("Tag",{key:i,attrs:{name:t.title,closable:""},on:{"on-close":e.handleClose2}},[e._v(e._s(t.title))])})),1)]),a("FormItem",{attrs:{label:"客户名称"}},[a("Input",{staticClass:"input-add mr14",attrs:{placeholder:"请输入客户名称"},model:{value:e.tableFrom.name,callback:function(t){e.$set(e.tableFrom,"name",t)},expression:"tableFrom.name"}}),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData()}}},[e._v("查询")])],1)],1)],1)]),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("div",{staticClass:"new_tab"},[a("Tabs",{on:{"on-click":e.onChangeType},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("TabPane",{attrs:{label:"企微客户",name:"0"}}),a("TabPane",{attrs:{label:"非企微客户",name:"1"}})],1)],1),a("div",{staticClass:"acea-row"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:0==e.tabIndex,expression:"tabIndex == 0"}],staticClass:"mr-12",attrs:{type:"primary"},on:{click:function(t){return e.clientSynch()}}},[e._v("同步企业微信客户")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:0==e.tabIndex,expression:"tabIndex == 0"}],attrs:{disabled:!e.selectGroup.length},on:{click:function(t){return e.setLabel(1)}}},[e._v("批量设置标签")]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.tabIndex,expression:"tabIndex == 1"}]},[a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["admin-user-coupon"],expression:"['admin-user-coupon']"}],staticClass:"mr-12",attrs:{disabled:!e.selectUser.length},on:{click:e.onSend}},[e._v("发送优惠券")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:1==e.tabIndex,expression:"tabIndex == 1"}],attrs:{disabled:!e.selectUser.length},on:{click:function(t){return e.setLabel(2)}}},[e._v("批量设置标签")])],1)],1),0==e.tabIndex?a("Table",{ref:"selection",staticClass:"ivu-mt",attrs:{columns:e.columns1,data:e.tableData.list,loading:e.loading},on:{"on-select-all":e.selectAll,"on-select-all-cancel":e.selectAll,"on-selection-change":e.handleSelectRow},scopedSlots:e._u([{key:"avatar",fn:function(t){var i=t.row;return[a("viewer",{staticClass:"acea-row"},[a("div",{staticClass:"tabBox_img mr-12"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.avatar,expression:"row.avatar"}]})]),a("div",{staticClass:"acea-row row-column row-center"},[a("span",[e._v(e._s(i.name))]),a("span",[e._v("ID:"+e._s(i.id))])])])]}},{key:"gender",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e._f("genderFilter")(i.gender)))])]}},{key:"followOne",fn:function(t){var i=t.row;return[i.followOne?a("span",[e._v(e._s(i.followOne.member.name))]):e._e()]}},{key:"corp_id",fn:function(t){var i=t.row;return[i.followOne?a("div",e._l(i.followOne.tags,(function(t,i){return a("Tag",{key:i,attrs:{size:"medium"}},[e._v(e._s(t.tag_name))])})),1):e._e()]}},{key:"external_userid",fn:function(t){var i=t.row;return[i.followOne?a("span",[e._v(e._s(i.followOne.member.mastare_department_name))]):e._e()]}},{key:"type",fn:function(t){return[1==t.row.type?a("Tag",{attrs:{color:"blue",size:"medium"}},[e._v("微信用户")]):a("Tag",{attrs:{color:"gold",size:"medium"}},[e._v("企微用户")])]}},{key:"action",fn:function(t){var i=t.row;return[a("a",{attrs:{disabled:0==i.uid},on:{click:function(t){return e.workInfo(i)}}},[e._v("详情")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.editMark(i)}}},[e._v("备注")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.labeSet(i)}}},[e._v("设置标签")])]}}],null,!1,3998433359)}):e._e(),1==e.tabIndex?a("Table",{ref:"table",staticClass:"ivu-mt",attrs:{columns:e.columns2,data:e.tableData1.list,"highlight-row":"",loading:e.loading,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},on:{"on-select-all":e.userAll,"on-select-all-cancel":e.userAll,"on-selection-change":e.userSelectRow},scopedSlots:e._u([{key:"avatars",fn:function(t){var i=t.row;return[a("viewer",{staticClass:"acea-row"},[a("div",{staticClass:"tabBox_img mr-12"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.avatar,expression:"row.avatar"}]})]),a("div",{staticClass:"acea-row row-column row-center"},[a("span",[e._v(e._s(i.nickname))]),a("span",[e._v("UID:"+e._s(i.uid))])])])]}},{key:"nickname",fn:function(t){var i=t.row;return[a("div",{staticClass:"acea-row"},[a("Icon",{directives:[{name:"show",rawName:"v-show",value:"男"===i.sex,expression:"row.sex === '男'"}],staticClass:"mr5",attrs:{type:"md-male",color:"#2db7f5",size:"15"}}),a("Icon",{directives:[{name:"show",rawName:"v-show",value:"女"===i.sex,expression:"row.sex === '女'"}],staticClass:"mr5",attrs:{type:"md-female",color:"#ed4014",size:"15"}}),a("div",{domProps:{textContent:e._s(i.nickname)}})],1)]}},{key:"isMember",fn:function(t){var i=t.row;return[a("div",[e._v(e._s(i.isMember?"是":"否"))])]}},{key:"follow_list",fn:function(t){var i=t.row;return[i.follow_list?a("div",e._l(i.follow_list,(function(t,i){return a("span",{key:i},[e._v(e._s(t.member.name))])})),0):e._e()]}},{key:"action",fn:function(t){var i=t.row;return[a("a",{on:{click:function(t){return e.changeInfo(i)}}},[e._v("详情")])]}}],null,!1,3129353630)}):e._e(),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:0==e.tabIndex?e.tableData.count:e.tableData1.count,current:e.tableFrom.page,"show-elevator":"","show-total":"","page-size":e.tableFrom.limit},on:{"on-change":e.pageChange}})],1)],1),a("department",{ref:"department",attrs:{"active-department":e.activeDepartment,"is-site":e.isSite,"only-department":e.onlyDepartment},on:{changeMastart:e.changeMastart}}),a("Modal",{attrs:{scrollable:"",title:"请选择用户标签",closable:!1,width:"600","footer-hide":!0},on:{"on-cancel":e.labelCancel},model:{value:e.labelShow,callback:function(t){e.labelShow=t},expression:"labelShow"}},[a("div",{staticClass:"label-wrapper"},[a("div",{staticClass:"list-box"},[e._l(e.labelList,(function(t,i){return a("div",{key:i,staticClass:"label-box"},[t.children&&t.children.length?a("div",{staticClass:"title"},[e._v("\n              "+e._s(t.title)+"\n            ")]):e._e(),t.children&&t.children.length?a("div",{staticClass:"list"},e._l(t.children,(function(t,i){return a("div",{key:i,staticClass:"label-item",class:{on:t.selected},on:{click:function(a){return e.selectLabel(t)}}},[e._v("\n                "+e._s(t.title)+"\n              ")])})),0):e._e()])})),e.labelList?e._e():a("div",[e._v("暂无标签")])],2),a("div",{staticClass:"footer"},[a("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:function(t){return e.labelConfirm()}}},[e._v("确定")]),a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:function(t){return e.labelCancel()}}},[e._v("取消")])],1)])]),a("user-details",{ref:"userDetails",attrs:{"group-list":e.groupList}}),a("send-from",{ref:"sends",attrs:{userIds:e.user_ids}}),a("Modal",{attrs:{title:"设置备注",width:"400",closable:!1,"class-name":"vertical-center-modal"},on:{"on-ok":function(t){return e.editMaekConfirm()},"on-cancel":function(t){return e.editMarkCancel()}},model:{value:e.markShow,callback:function(t){e.markShow=t},expression:"markShow"}},[a("Form",{attrs:{"label-width":75,"label-position":"right"},model:{value:e.markShow,callback:function(t){e.markShow=t},expression:"markShow"}},[a("FormItem",{attrs:{label:"备注：",required:""}},[a("Input",{staticClass:"input-add",attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1)],1),a("edit-from",{ref:"edits",attrs:{FromData:e.FromData,userEdit:1},on:{submitFail:e.submitFail}})],1)}),[],!1,null,"59299bc4",null);t.default=w.exports}}]);