(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_combination/index"],{1284:function(n,t,i){"use strict";(function(n){var e=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("74b1"),o=i("5c29"),c=e(i("5c3b")),u=i("865e"),r=(getApp(),{components:{home:function(){Promise.all([i.e("common/vendor"),i.e("components/home/index")]).then(function(){return resolve(i("377d"))}.bind(null,i)).catch(i.oe)}},mixins:[c.default],data:function(){return{pinkPeople:[],pinkCount:0,bannerList:[],circular:!0,autoplay:!0,interval:3e3,duration:500,combinationList:[],limit:10,page:1,loading:!1,loadend:!1,isBanner:!1,imgHost:u.HTTP_REQUEST_URL}},onLoad:function(){n.setNavigationBarTitle({title:"拼团列表"}),this.getCombinationList(),this.getBannerList(),this.getPink()},onShow:function(){n.removeStorageSync("form_type_cart")},methods:{getPink:function(){var n=this;(0,a.getPink)({type:2}).then((function(t){n.pinkPeople=t.data.avatars,n.pinkCount=t.data.pink_count}))},getBannerList:function(){var n=this;(0,a.getCombinationBannerList)().then((function(t){n.bannerList=t.data,n.isBanner=!0}))},goDetail:function(n){var t=n.link;this.$util.JumpPath(t)},openSubcribe:function(t){n.showLoading({title:"正在加载"}),(0,o.openPinkSubscribe)().then((function(i){n.hideLoading(),n.navigateTo({url:"/pages/activity/goods_combination_details/index?id=".concat(t.id)})})).catch((function(){n.hideLoading()}))},getCombinationList:function(){var n=this;if(!n.loadend&&!n.loading){var t={page:n.page,limit:n.limit};this.loading=!0,(0,a.getCombinationList)(t).then((function(t){var i=n.combinationList,e=n.limit;n.page++,n.loadend=e>t.data.length,n.combinationList=i.concat(t.data),n.page=n.data.page,n.loading=!1})).catch((function(){n.loading=!1}))}}},onReachBottom:function(){this.getCombinationList()}});t.default=r}).call(this,i("543d")["default"])},4338:function(n,t,i){"use strict";i.d(t,"b",(function(){return e})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var e=function(){var n=this,t=n.$createElement,i=(n._self._c,n.bannerList.length),e=n.pinkPeople.length,a=e>5?n.pinkPeople.length:null,o=!n.combinationList.length&&!n.loading&&n.isBanner,c=o?n.bannerList.length:null;n.$mp.data=Object.assign({},{$root:{g0:i,g1:e,g2:a,g3:o,g4:c}})},a=[]},"43c6":function(n,t,i){},"7b0d":function(n,t,i){"use strict";i.r(t);var e=i("1284"),a=i.n(e);for(var o in e)["default"].indexOf(o)<0&&function(n){i.d(t,n,(function(){return e[n]}))}(o);t["default"]=a.a},bb64:function(n,t,i){"use strict";(function(n,t){var e=i("4ea4");i("59a4");e(i("66fd"));var a=e(i("d834"));n.__webpack_require_UNI_MP_PLUGIN__=i,t(a.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},d834:function(n,t,i){"use strict";i.r(t);var e=i("4338"),a=i("7b0d");for(var o in a)["default"].indexOf(o)<0&&function(n){i.d(t,n,(function(){return a[n]}))}(o);i("f027");var c=i("f0c5"),u=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);t["default"]=u.exports},f027:function(n,t,i){"use strict";var e=i("43c6"),a=i.n(e);a.a}},[["bb64","common/runtime","common/vendor"]]]);