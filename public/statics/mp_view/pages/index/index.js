(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"2dfd":function(t,e,n){},5700:function(t,e,n){"use strict";n.r(e);var o=n("99fd"),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},"7a81":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("59a4");o(n("66fd"));var i=o(n("bbf4"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"99fd":function(t,e,n){"use strict";(function(t,o){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n("9523")),a=i(n("5c3b")),c=(i(n("50f8")),n("3c98")),r=n("5679"),u=n("401c"),d=n("26cb"),l=n("f8b7"),h=n("3e4f"),g=(n("8e8a"),n("865e"));function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,s.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=getApp(),v={computed:(0,d.mapGetters)(["isLogin","uid","cartNum"]),mixins:[a.default],components:{skeletons:function(){n.e("pages/index/components/skeletons").then(function(){return resolve(n("48a1"))}.bind(null,n)).catch(n.oe)},recommend:function(){Promise.all([n.e("common/vendor"),n.e("components/recommend/index")]).then(function(){return resolve(n("b281"))}.bind(null,n)).catch(n.oe)},Loading:function(){n.e("components/Loading/index").then(function(){return resolve(n("8989"))}.bind(null,n)).catch(n.oe)},pageFooter:function(){Promise.all([n.e("common/vendor"),n.e("components/pageFooter/index")]).then(function(){return resolve(n("a225"))}.bind(null,n)).catch(n.oe)},couponWindow:function(){Promise.all([n.e("common/vendor"),n.e("components/couponWindow/index")]).then(function(){return resolve(n("52cb"))}.bind(null,n)).catch(n.oe)},homeComb:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/homeComb")]).then(function(){return resolve(n("1e23"))}.bind(null,n)).catch(n.oe)},newVip:function(){n.e("pages/index/components/newVip").then(function(){return resolve(n("d6e1"))}.bind(null,n)).catch(n.oe)},userInfor:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/userInfor")]).then(function(){return resolve(n("1d4b"))}.bind(null,n)).catch(n.oe)},shortVideo:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/shortVideo")]).then(function(){return resolve(n("240c"))}.bind(null,n)).catch(n.oe)},activeParty:function(){n.e("pages/index/components/activeParty").then(function(){return resolve(n("e602"))}.bind(null,n)).catch(n.oe)},headerSerch:function(){n.e("pages/index/components/headerSerch").then(function(){return resolve(n("3fb6"))}.bind(null,n)).catch(n.oe)},swipers:function(){n.e("pages/index/components/swipers").then(function(){return resolve(n("f6e6"))}.bind(null,n)).catch(n.oe)},coupon:function(){n.e("pages/index/components/coupon").then(function(){return resolve(n("7e0a"))}.bind(null,n)).catch(n.oe)},articleList:function(){n.e("pages/index/components/articleList").then(function(){return resolve(n("f019"))}.bind(null,n)).catch(n.oe)},bargain:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/bargain")]).then(function(){return resolve(n("3aa8"))}.bind(null,n)).catch(n.oe)},blankPage:function(){n.e("pages/index/components/blankPage").then(function(){return resolve(n("3b9f"))}.bind(null,n)).catch(n.oe)},combination:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/combination")]).then(function(){return resolve(n("4f31"))}.bind(null,n)).catch(n.oe)},customerService:function(){n.e("pages/index/components/customerService").then(function(){return resolve(n("835b"))}.bind(null,n)).catch(n.oe)},goodList:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/goodList")]).then(function(){return resolve(n("5efe"))}.bind(null,n)).catch(n.oe)},guide:function(){n.e("pages/index/components/guide").then(function(){return resolve(n("b565"))}.bind(null,n)).catch(n.oe)},liveBroadcast:function(){n.e("pages/index/components/liveBroadcast").then(function(){return resolve(n("3d1b"))}.bind(null,n)).catch(n.oe)},menus:function(){n.e("pages/index/components/menus").then(function(){return resolve(n("3822"))}.bind(null,n)).catch(n.oe)},pictureCube:function(){n.e("pages/index/components/pictureCube").then(function(){return resolve(n("3f66"))}.bind(null,n)).catch(n.oe)},news:function(){n.e("pages/index/components/news").then(function(){return resolve(n("f80e"))}.bind(null,n)).catch(n.oe)},promotionList:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/promotionList")]).then(function(){return resolve(n("5b4e"))}.bind(null,n)).catch(n.oe)},richText:function(){n.e("pages/index/components/richText").then(function(){return resolve(n("26401"))}.bind(null,n)).catch(n.oe)},seckill:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/seckill")]).then(function(){return resolve(n("2904"))}.bind(null,n)).catch(n.oe)},swiperBg:function(){n.e("pages/index/components/swiperBg").then(function(){return resolve(n("8cbf"))}.bind(null,n)).catch(n.oe)},tabNav:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/tabNav")]).then(function(){return resolve(n("f75f"))}.bind(null,n)).catch(n.oe)},titles:function(){n.e("pages/index/components/titles").then(function(){return resolve(n("289f"))}.bind(null,n)).catch(n.oe)}},data:function(){var t;return t={showSkeleton:!0,styleConfig:[],loading:!1,loadend:!1,loadTitle:"下拉加载更多",page:1,limit:this.$config.LIMIT,numConfig:0,code:"",isCouponShow:!1,couponObj:{},couponObjs:{show:!1},shareInfo:{},footConfig:{},isSortType:0,sortList:"",sortAll:[],goodPage:1,goodList:[],sid:0,curSort:0,sortMpTop:0,loaded:!1},(0,s.default)(t,"loading",!1),(0,s.default)(t,"hostProduct",[]),(0,s.default)(t,"hotScroll",!1),(0,s.default)(t,"hotPage",1),(0,s.default)(t,"hotLimit",10),(0,s.default)(t,"domOffsetTop",50),(0,s.default)(t,"isFixed",!0),(0,s.default)(t,"site_config",""),(0,s.default)(t,"errorNetwork",!1),(0,s.default)(t,"footerStatus",!1),(0,s.default)(t,"isHeaderSerch",!1),(0,s.default)(t,"bgColor",""),(0,s.default)(t,"bgPic",""),(0,s.default)(t,"bgTabVal",""),(0,s.default)(t,"pageShow",!0),(0,s.default)(t,"windowHeight",0),(0,s.default)(t,"imgHost",g.HTTP_REQUEST_URL),(0,s.default)(t,"isShowAuth",!1),(0,s.default)(t,"isScrolled",!1),(0,s.default)(t,"product_video_status",!1),(0,s.default)(t,"confirm_video_status",!1),t},onLoad:function(e){var n=this,o=this;o.getOptions(e),this.$nextTick((function(){t.getSystemInfo({success:function(t){o.windowHeight=t.windowHeight}})}));e.state,e.scope;this.diyData(),this.getIndexData(),this.getTemlIds(),(0,r.getShare)().then((function(t){n.shareInfo=t.data})),this.getCopyRight(),this.$eventHub.$on("confirm_video_status",(function(){if(!n.confirm_video_status){n.confirm_video_status=!0;0,t.showModal({content:"当前使用移动网络，是否继续播放视频？",success:function(t){t.confirm&&(n.SET_AUTOPLAY(!0),n.$eventHub.$emit("product_video_observe"))}})}}))},watch:{isLogin:{deep:!0,handler:function(e,n){var o=(new Date).toLocaleDateString();if(e){try{var i=t.getStorageSync("oldDate")||""}catch(s){}i!=o&&this.getCoupon()}}}},onShow:function(){this.cartNum>0?t.setTabBarBadge({index:3,text:this.cartNum+""}):t.hideTabBarRedDot({index:3}),t.removeStorageSync("form_type_cart"),this.isLogin&&this.getCoupon(),this.getdiyProduct()},onReady:function(){},methods:p(p({},(0,d.mapMutations)(["SET_AUTOPLAY"])),{},{authColse:function(t){this.isShowAuth=t},getdiyProduct:function(){var e=this;(0,l.diyProduct)().then((function(n){t.setStorageSync("diyProduct",JSON.stringify(n.data.product_detail)),t.setStorageSync("product_video_status",JSON.stringify(n.data.product_video_status)),e.$eventHub.$emit("product_video_status",n.data.product_video_status),e.product_video_status=n.data.product_video_status}))},getCopyRight:function(){var e=this;(0,c.copyRight)().then((function(n){var o=n.data;e.site_config=o.record_No,o.copyrightContext||o.copyrightImage||(o.copyrightImage="/static/images/support.png"),t.setStorageSync("copyNameInfo",o.copyrightContext),t.setStorageSync("copyImageInfo",o.copyrightImage),t.setStorageSync("MPSiteData",JSON.stringify({site_logo:o.site_logo,site_name:o.site_name}))})).catch((function(t){return e.$util.Tips({title:t.msg})}))},getOptions:function(t){if(t.scene){var e=this.$util.getUrlParams(decodeURIComponent(t.scene));e.spid&&(m.globalData.spid=e.spid)}t.spid&&(m.globalData.spid=t.spid)},reconnect:function(){var t=this;this.diyData(),this.getIndexData(),(0,r.getShare)().then((function(e){t.shareInfo=e.data}))},goICP:function(){t.navigateTo({url:"/pages/annex/web_view/index?url=https://beian.miit.gov.cn/"})},bindHeighta:function(t){},bindHeight:function(e){t.hideLoading(),this.domOffsetTop=e.top},goGoodsDetail:function(e){(0,h.goShopDetail)(e,this.uid).then((function(n){t.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id)})}))},get_host_product:function(){var t=this;t.hotScroll||(0,l.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data)}))},changeSort:function(t,e){this.curSort!=e&&(this.curSort=e,this.sid=t.id,this.goodList=[],this.goodPage=1,this.loaded=!1,this.getGoodsList())},bindSortId:function(t){this.isSortType=-99==t?0:1,this.getProductList(t),0==this.hostProduct.length&&this.get_host_product()},getProductList:function(t){var e=this;this.curSort=0,this.loaded=!1,this.sortAll.length>0?(this.sortAll.forEach((function(n,o){n.id==t&&(e.$set(e,"sortList",n),e.sid=n.children.length?n.children[0].id:"")})),this.goodList=[],this.goodPage=1,this.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))):(0,l.getCategoryList)().then((function(n){e.sortAll=n.data,n.data.forEach((function(n,o){n.id==t&&(e.sortList=n,e.sid=n.children.length?n.children[0].id:"")})),e.goodList=[],e.goodPage=1,e.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))}))},getGoodsList:function(){var t=this;this.loading||this.loaded||(this.loading=!0,(0,l.getProductslist)({sid:this.sid,keyword:"",priceOrder:"",salesOrder:"",news:0,page:this.goodPage,limit:10,cid:this.sortList.id}).then((function(e){t.loading=!1,t.loaded=e.data.length<10,t.goodPage++,t.goodList=t.goodList.concat(e.data)})))},getNewCoupon:function(){var e=this,n=t.getStorageSync("oldUser")||0;n||(0,c.getCouponNewUser)().then((function(n){var o=n.data;o.show?o.list.length&&(e.isCouponShow=!0,e.couponObj=o,t.setStorageSync("oldUser",1)):t.setStorageSync("oldUser",1)}))},getCoupon:function(){var e=this,n=t.getStorageSync("tagDate")||"",o=(new Date).toLocaleDateString();n===o?this.getNewCoupon():(0,c.getCouponV2)().then((function(n){var o=n.data;o.list.length?(e.isCouponShow=!0,e.couponObj=o,t.setStorageSync("tagDate",(new Date).toLocaleDateString())):e.getNewCoupon()}))},couponClose:function(){this.isCouponShow=!1,t.getStorageSync("oldUser")||this.getNewCoupon()},onLoadFun:function(){this.isShowAuth=!1},getTemlIds:function(){var t=o.getStorageSync(u.SUBSCRIBE_MESSAGE);t||(0,c.getTemlIds)().then((function(t){t.data&&o.setStorageSync(u.SUBSCRIBE_MESSAGE,JSON.stringify(t.data))}))},objToArr:function(t){var e=Object.keys(t),n=e.map((function(e){return t[e]}));return n},setDiyData:function(e){var n=this;this.errorNetwork=!1,e.is_bg_color&&(this.bgColor=e.color_picker),e.is_bg_pic&&(this.bgPic=e.bg_pic,this.bgTabVal=e.bg_tab_val),this.pageShow=e.is_show,t.setNavigationBarTitle({title:e.title});var o=[],i=this.objToArr(e.value);i.forEach((function(t,e,i){"headerSerch"==t.name&&(n.isHeaderSerch=!0),"pageFoot"==t.name&&i.splice(e,1),t.name,o=i})),o.sort((function(t,e){return t.timestamp-e.timestamp})),this.styleConfig=o,this.showSkeleton=!1},getDiyData:function(){var e=this;(0,c.getDiy)(0).then((function(n){t.setStorageSync("diyData",JSON.stringify(n.data)),e.setDiyData(n.data)})).catch((function(t){}))},diyData:function(){var e=this,n=t.getStorageSync("diyData");n?(0,c.getDiyVersion)(0).then((function(o){var i=t.getStorageSync("diyVersion");o.data.version+"0"===i?e.setDiyData(JSON.parse(n)):(t.setStorageSync("diyVersion",o.data.version+"0"),e.getDiyData())})):this.getDiyData()},getIndexData:function(){},changeLogin:function(){this.getIsLogin()},getIsLogin:function(){this.isShowAuth=!0},changeBarg:function(e){this.isLogin?t.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(e.id,"&spid=").concat(this.$store.state.app.uid)}):this.getIsLogin()},goDetail:function(e){(0,h.goShopDetail)(e,this.$store.state.app.uid).then((function(n){t.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id)})}))}}),onReachBottom:function(){0==this.isSortType||this.getGoodsList()},onPageScroll:function(t){t.scrollTop>10?this.isScrolled=!0:this.isScrolled=!1},onShareAppMessage:function(){var t=this.uid?this.uid:0;return{title:this.shareInfo.title,path:"/pages/index/index?spid="+t,imageUrl:this.shareInfo.img,desc:this.shareInfo.synopsis}},onShareTimeline:function(){return{title:this.shareInfo.title,path:"/pages/index/index",imageUrl:this.shareInfo.img,desc:this.shareInfo.synopsis}}};e.default=v}).call(this,n("543d")["default"],n("bc2e")["default"])},add8:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.pageShow&&!t.errorNetwork&&1==t.isSortType?t.sortList.children&&t.sortList.children.length:null),o=t.pageShow&&!t.errorNetwork&&1==t.isSortType?t.goodList.length:null,i=t.pageShow&&!t.errorNetwork&&1==t.isSortType?0==t.goodList.length&&t.loaded:null;t.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i}})},i=[]},bbf4:function(t,e,n){"use strict";n.r(e);var o=n("add8"),i=n("5700");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("ed71");var a=n("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=c.exports},ed71:function(t,e,n){"use strict";var o=n("2dfd"),i=n.n(o);i.a}},[["7a81","common/runtime","common/vendor"]]]);