require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/store/index"],{"792a":function(t,i,e){"use strict";var n=e("8947"),a=e.n(n);a.a},8947:function(t,i,e){},9189:function(t,i,e){"use strict";(function(t,i){var n=e("4ea4");e("59a4");n(e("66fd"));var a=n(e("cb35"));t.__webpack_require_UNI_MP_PLUGIN__=e,i(a.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},"9f3f":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this.$createElement,i=(this._self._c,this.list.length);this.$mp.data=Object.assign({},{$root:{g0:i}})},a=[]},a95b:function(t,i,e){"use strict";e.r(i);var n=e("d593"),a=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},cb35:function(t,i,e){"use strict";e.r(i);var n=e("9f3f"),a=e("a95b");for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);e("792a");var r=e("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"441a9907",null,!1,n["a"],void 0);i["default"]=o.exports},d593:function(t,i,e){"use strict";(function(t){var n=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("5c3b")),s=e("a82c"),r={name:"adminOrder",components:{Loading:function(){e.e("components/Loading/index").then(function(){return resolve(e("8989"))}.bind(null,e)).catch(e.oe)},home:function(){Promise.all([e.e("common/vendor"),e.e("components/home/index")]).then(function(){return resolve(e("377d"))}.bind(null,e)).catch(e.oe)}},mixins:[a.default],data:function(){return{writeNum:1,writeData:{},iShidden:!1,is_manager:0,manager:0,user:{},orderlist:{},hidden:!0,page:1,limit:7,tip:1,index:0,detailtabs:"today",array:["门店统计","数据统计"],tabs:1,census:{},list:[],loaded:!1,loading:!1,verify_code:""}},onLoad:function(){this.userInfo()},methods:{subCart:function(){this.writeNum--,this.writeNum<1&&(this.writeNum=1)},addCart:function(){this.writeNum++;var t=parseInt(this.writeData.write_times)-parseInt(this.writeData.write_off);this.writeNum>t&&(this.writeNum=t)},cancelVerify:function(){this.iShidden=!1},confirmVerify:function(){var t=this,i=[],e={cart_id:0,cart_num:0};e.cart_id=this.writeData.cart_id[0],e.cart_num=this.writeNum,i.push(e),(0,s.orderWriteoff)(1,{oid:this.writeData.id,cart_ids:i}).then((function(i){t.iShidden=!1,t.$util.Tips({title:i.msg})})).catch((function(i){t.$util.Tips({title:i})}))},userInfo:function(){var t=this;(0,s.userInfo)().then((function(i){t.manager=i.data.is_manager,t.is_manager=i.data.is_manager,t.user=i.data,0==i.data.is_manager&&(t.tabs=2),t.orderList(),t.detailtab("today")}))},orderList:function(){var t=this;(0,s.orderInfo)({is_manager:this.manager}).then((function(i){t.orderlist=i.data}))},statisticsMenu:function(t){var i=this;(0,s.statisticsMenuApi)(t).then((function(t){i.census=t.data}))},getList:function(){var t=this,i={type:this.tabs,is_manager:this.manager,page:this.page,limit:this.limit,data:this.detailtabs};this.loading=!0,(0,s.getListApi)(i).then((function(i){t.loading=!1,t.page+=1,t.list=t.list.concat(i.data),i.data.length<t.limit&&(t.tip=2)}))},hiddened:function(t){this.hidden=!this.hidden},cancel:function(){this.hidden=!this.hidden},bindPickerChange:function(t){this.tip=1,this.page=1,this.list=[],this.hidden=!this.hidden,this.index=t.target.value;var i;i=this.array[this.index],"数据统计"==i&&(this.manager=0,this.tabs=2,this.detailtab("today")),"门店统计"==i&&(this.manager=1,this.tabs=1,this.detailtab("today")),this.orderList()},tab:function(t){this.tip=1,this.tabs=t,this.page=1,this.list=[],this.getList()},detailtab:function(t){this.detailtabs=t;var i={is_manager:this.manager,data:t};this.list=[],this.page=1,this.tip=1,this.getList(),this.statisticsMenu(i)},scanCode:function(){var i=this;t.scanCode({scanType:["qrCode","barCode"],success:function(t){i.verify_code=t.result,i.codeChange()},fail:function(t){}})},codeChange:function(){var i=this,e=this;return e.verify_code?/^[0-9]*$/.test(e.verify_code)?(e.$util.Tips({title:"查询中"}),void setTimeout((function(){(0,s.orderWriteoffInfo)(1,{verify_code:e.verify_code,code_type:2}).then((function(n){200==n.status?(i.writeNum=1,i.writeData=n.data[0],4!=n.data[0].product_type?t.navigateTo({url:"./scanning/index?code="+e.verify_code}):e.iShidden=!0):e.$util.Tips({title:n.msg})})).catch((function(t){e.$util.Tips({title:t})}))}),800)):e.$util.Tips({title:"请输入正确的核销码"}):e.$util.Tips({title:"请输入核销码"})}},onReachBottom:function(){1==this.tip&&this.getList()}};i.default=r}).call(this,e("543d")["default"])}},[["9189","common/runtime","common/vendor"]]]);