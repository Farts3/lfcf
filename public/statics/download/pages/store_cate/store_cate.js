(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store_cate/store_cate"],{4210:function(e,t,o){},"4ab3":function(e,t,o){"use strict";o.r(t);var r=o("dc40"),n=o("7844");for(var i in n)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(i);o("db45");var s=o("f0c5"),c=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"1fae9cce",null,!1,r["a"],void 0);t["default"]=c.exports},7844:function(e,t,o){"use strict";o.r(t);var r=o("a6c1"),n=o.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(i);t["default"]=n.a},"89a3":function(e,t,o){"use strict";(function(e,t){var r=o("4ea4");o("59a4");r(o("66fd"));var n=r(o("4ab3"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(n.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},a6c1:function(e,t,o){"use strict";(function(e){var r=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o("9523")),i=o("26cb"),s=r(o("5c3b")),c=o("8bb5"),a=(o("3c98"),o("bcf5"),r(o("180b")));function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,n.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={computed:(0,i.mapGetters)(["isLogin","uid"]),components:{storeCate1:function(){Promise.all([o.e("common/vendor"),o.e("pages/store_cate/store_cate1")]).then(function(){return resolve(o("c69d"))}.bind(null,o)).catch(o.oe)},storeCate2:function(){Promise.all([o.e("common/vendor"),o.e("pages/store_cate/store_cate2")]).then(function(){return resolve(o("5d84"))}.bind(null,o)).catch(o.oe)},pageFooter:function(){Promise.all([o.e("common/vendor"),o.e("components/pageFooter/index")]).then(function(){return resolve(o("a225"))}.bind(null,o)).catch(o.oe)}},mixins:[s.default],data:function(){return{info:{},id:0,isFooter:!1,category:"",storeShow:0,customerType:1,where:{latitude:0,longitude:0,store_id:0},cart_num:0,mapFrom:0}},onLoad:function(t){t.scene&&(t=a.default.getUrlParams(decodeURIComponent(t.scene))),this.mapFrom=t.mapFrom||0,this.where.store_id=t.id,e.setStorageSync("user_store_id",t.id);try{this.where.latitude=e.getStorageSync("user_latitude"),this.where.longitude=e.getStorageSync("user_longitude"),1==t.mapFrom?this.getStore():(this.selfLocation(),this.$util.checkOpenGPSServiceByAndroidIOS()||this.getStore())}catch(o){this.getStore()}},onUnload:function(){this.mapFrom=0,e.$off("newAttrNum")},onHide:function(){this.mapFrom=0},onShow:function(){var e=this;0==this.mapFrom&&1==this.storeShow&&setTimeout((function(){e.$refs.refresh2.getNoCart()}),10)},mounted:function(){},methods:{otherFun:function(e){e&&1==this.storeShow&&this.$refs.refresh2.updateFun(e)},selfLocation:function(){var t=this;e.getLocation({type:"gcj02",success:function(t){try{e.setStorageSync("user_latitude",t.latitude),e.setStorageSync("user_longitude",t.longitude)}catch(o){}},fail:function(e){return t.$util.Tips({title:e})},complete:function(){t.getStore()}})},getStore:function(){var t=this;this.where.latitude=e.getStorageSync("user_latitude"),this.where.longitude=e.getStorageSync("user_longitude"),(0,c.getnearbyStore)(this.where).then((function(o){var r=o.data.info;t.cart_num=o.data.cart_num,"[object Array]"===Object.prototype.toString.call(r)?(t.info={},t.storeShow=2):(t.info=o.data.info,t.storeShow=o.data.info.home_style),t.id=t.info.id,t.customerType=parseInt(o.data.info.customer_type),e.setStorageSync("user_store_id",t.info.id),t.info=f(f({},t.info),{},{store_splicing_switch:o.data.store_splicing_switch}),1===t.storeShow?setTimeout((function(){t.$refs.refresh2.getAllCategory(),t.isLogin&&t.$refs.refresh2.getCartList(1),t.$refs.refresh2.getMarTop()}),10):2===t.storeShow&&setTimeout((function(){t.$refs.refresh.where.store_id=t.id,t.$refs.refresh.loadend=!1,t.$refs.refresh.getProducts(!0)}))}))},newDataStatus:function(e){this.isFooter=e}},onReachBottom:function(){var e=this;1===this.storeShow&&setTimeout((function(){e.$refs.refresh2.getProducts()}),10),2===this.storeShow&&this.$refs.refresh.getProducts()}};t.default=d}).call(this,o("543d")["default"])},db45:function(e,t,o){"use strict";var r=o("4210"),n=o.n(r);n.a},dc40:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){}));var r=function(){var e=this.$createElement;this._self._c},n=[]}},[["89a3","common/runtime","common/vendor"]]]);