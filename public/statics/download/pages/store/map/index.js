(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store/map/index"],{"28cb":function(t,e,n){"use strict";n.r(e);var i=n("f163"),o=n("f4e2");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("508c");var c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},"508c":function(t,e,n){"use strict";var i=n("bb98"),o=n.n(i);o.a},bb98:function(t,e,n){},d03a:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("59a4");i(n("66fd"));var o=i(n("28cb"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},dee9:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("865e"),a=i(n("5c3b")),c=n("8bb5"),s={mixins:[a.default],data:function(){return{imgHost:o.HTTP_REQUEST_URL,sortIndex:0,active:1,content:{latitude:t.getStorageSync("user_latitude"),longitude:t.getStorageSync("user_longitude"),store_type:1,keyword:"",page:1},info:[],map:1,header:1,comeType:0,latitudeStore:0,longitudeStore:0,covers:[]}},onLoad:function(t){this.comeType=t.type,this.sortIndex=t.storeId,this.isCollage=t.isCollage;try{this.content.latitude&&this.content.longitude&&1==t.storeFrom?this.getlist():this.selfLocation()}catch(e){this.getlist()}},methods:{selfLocation:function(){var e=this,n=this;t.getLocation({type:"wgs84",success:function(i){try{e.content.latitude=i.latitude,e.content.longitude=i.longitude,t.setStorageSync("user_latitude",i.latitude),t.setStorageSync("user_longitude",i.longitude)}catch(o){}n.getlist()},complete:function(){n.getlist()}})},getlist:function(){var t=this;(0,c.getList)(this.content).then((function(e){t.info=e.data,e.data.forEach((function(e){t.sortIndex==e.id&&(t.latitudeStore=e.latitude,t.longitudeStore=e.longitude,t.covers.push({title:e.name,latitude:e.latitude,longitude:e.longitude,iconPath:e.image,width:30,height:30}))}))}))},setValue:function(t){this.getlist()},activeFn:function(e){if(this.sortIndex=e.id,this.comeType){if(1==this.isCollage)return t.$emit("activeFn",e),void t.navigateBack();t.reLaunch({url:"/pages/store_cate/store_cate?mapFrom=1&id="+e.id})}},searchMap:function(){this.header=0},putMap:function(){1==this.map?this.map=0:0==this.map&&(this.map=1)},callPhone:function(e){t.makePhoneCall({phoneNumber:e.phone})},btnFn:function(t){switch(t){case 1:this.active=1,this.content.store_type=1;break;case 2:this.active=2,this.content.store_type=2;break}this.getlist()},showMaoLocation:function(e){t.openLocation({latitude:Number(e.latitude),longitude:Number(e.longitude),name:e.name,address:"".concat(e.address,"-").concat(e.detailed_address),success:function(){}})}}};e.default=s}).call(this,n("543d")["default"])},f163:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=(this._self._c,this.info.length),n=this.info.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n}})},o=[]},f4e2:function(t,e,n){"use strict";n.r(e);var i=n("dee9"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a}},[["d03a","common/runtime","common/vendor"]]]);